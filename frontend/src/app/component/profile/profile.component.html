<div class="container mx-auto mt-5 p-8 max-w-5xl bg-white rounded-lg shadow-lg">
  <h2 class="text-3xl font-bold text-gray-800 mb-8 text-center border-b pb-4 border-gray-200">Profile</h2>
  
  <div class="flex flex-col md:flex-row md:space-x-10">
    
    <!-- Profile Image Section -->
    <div class="flex justify-center md:justify-start md:w-1/3 mb-8 md:mb-0">
      <div class="relative w-64 h-64"> <!-- Increased size here -->
        <img *ngIf="profileImageUrl" [src]="profileImageUrl" alt="Profile Image" class="rounded-full w-64 h-64 object-cover border-4 border-gray-300 shadow-lg">
        <img *ngIf="!profileImageUrl" src="path-to-default-image" alt="Default Profile Image" class="rounded-full w-48 h-48 object-cover border-4 border-gray-300 shadow-lg">
      </div>
    </div>

    <!-- Form Section for Profile Information -->
    <div class="md:w-2/3 space-y-6">
      <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
        <!-- Username Field -->
        <div>
          <label for="username" class="block text-sm font-semibold text-gray-700 mb-2">Username</label>
          <input id="username" formControlName="username" type="text" class="rounded-lg w-full px-4 py-2 border border-gray-300 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400" placeholder="Enter your username">
          <div *ngIf="profileForm.get('username')?.invalid && profileForm.get('username')?.touched" class="mt-1 text-sm text-red-500">
            <small *ngIf="profileForm.get('username')?.errors?.['required']">Username is required</small>
            <small *ngIf="profileForm.get('username')?.errors?.['minlength']">Username must be at least 3 characters</small>
          </div>
        </div>

        <!-- Email Field -->
        <div>
          <label for="email" class="block text-sm font-semibold text-gray-700 mb-2">Email</label>
          <input id="email" formControlName="email" type="email" class="rounded-lg w-full px-4 py-2 border border-gray-300 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400" placeholder="Enter your email">
          <div *ngIf="profileForm.get('email')?.invalid && profileForm.get('email')?.touched" class="mt-1 text-sm text-red-500">
            <small *ngIf="profileForm.get('email')?.errors?.['required']">Email is required</small>
            <small *ngIf="profileForm.get('email')?.errors?.['email']">Invalid email format</small>
          </div>
        </div>

        <!-- Address Field -->
        <div>
          <label for="address" class="block text-sm font-semibold text-gray-700 mb-2">Address</label>
          <input id="address" formControlName="address" type="text" class="rounded-lg w-full px-4 py-2 border border-gray-300 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400" placeholder="Enter your address">
        </div>

        <!-- Profile Image Upload Field -->
        <div>
          <label for="profileImage" class="block text-sm font-semibold text-gray-700 mb-2">Profile Image</label>
          <input id="profileImage" type="file" (change)="onFileChange($event)" class="mt-2 block w-full text-sm border-gray-300 cursor-pointer focus:outline-none focus:border-indigo-400 focus:ring-2 focus:ring-indigo-400">
        </div>

        <!-- Submit Button -->
        <div class="flex justify-start mt-8">
          <button type="submit" [disabled]="profileForm.invalid" class="bg-indigo-600 text-white px-5 py-2 rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors disabled:opacity-50">
            Update Profile
          </button>
        </div>
      </form>

      <!-- Success/Error Messages -->
      <div *ngIf="successMessage" class="mt-6 text-green-600 text-center font-semibold">
        {{ successMessage }}
      </div>
      <div *ngIf="errorMessages" class="mt-6 text-red-600 text-center font-semibold">
        {{ errorMessages }}
      </div>
    </div>
  </div>
</div>
